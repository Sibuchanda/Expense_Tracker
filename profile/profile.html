<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile - Expense Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="../profile/profile.css" />
  </head>
  <body>
    <div class="container one-card-layout">
      <div class="back-button" onclick="window.history.back()">
        Back
      </div>

      <header class="header">
        <div class="user-info">
          <div class="profile-circle" id="profileCircle">J</div>
          <div class="username-section">
            <div class="username" id="usernameDisplay">John Doe</div>
            <div class="edit-controls">
              <div id="editMode" class="hidden">
                <input
                  type="text"
                  id="usernameInput"
                  class="edit-input"
                  placeholder="Enter new name"
                />
                <button class="btn btn-save" onclick="saveName()">Save</button>
                <button class="btn btn-cancel" onclick="cancelEdit()">
                  Cancel
                </button>
              </div>
              <button id="editBtn" class="btn btn-edit" onclick="editName()">
                <svg class="icon" viewBox="0 0 24 24">
                  <path d="m18 2 4 4-14 14H4v-4L18 2z" />
                  <path d="m14.5 5.5 4 4" />
                </svg>
                Edit
              </button>
            </div>
          </div>
        </div>
      </header>

      <div class="main-content">
        <aside class="sidebar">
          <div class="nav-item active" onclick="showSection('account')">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
              <circle cx="12" cy="7" r="4" />
            </svg>
            Account
          </div>
          <div class="nav-item" onclick="showSection('export')">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="7,10 12,15 17,10" />
              <line x1="12" y1="15" x2="12" y2="3" />
            </svg>
            Export
          </div>
        </aside>

        <main class="content">
          <section id="accountSection" class="section active">
            <h2 class="section-title">Account Overview</h2>
            <div class="stats-grid">
              <div class="stat-card income">
                <div class="stat-value" id="totalIncome">₹0</div>
                <div class="stat-label">Total Income</div>
              </div>
              <div class="stat-card expense">
                <div class="stat-value" id="totalExpense">₹0</div>
                <div class="stat-label">Total Expense</div>
              </div>
              <div class="stat-card balance">
                <div class="stat-value" id="currentBalance">₹0</div>
                <div class="stat-label">Current Balance</div>
              </div>
            </div>
          </section>

          <section id="exportSection" class="section">
            <h2 class="section-title">Export Data</h2>
            <div class="export-options">
              <div class="export-btn" onclick="exportToPDF()">
                <svg
                  class="icon"
                  viewBox="0 0 24 24"
                  style="width: 40px; height: 40px"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  />
                  <polyline points="14,2 14,8 20,8" />
                  <line x1="16" y1="13" x2="8" y2="13" />
                  <line x1="16" y1="17" x2="8" y2="17" />
                  <polyline points="10,9 9,9 8,9" />
                </svg>
                <div>Export as PDF</div>
              </div>
              <div class="export-btn" onclick="exportToExcel()">
                <svg
                  class="icon"
                  viewBox="0 0 24 24"
                  style="width: 40px; height: 40px"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  />
                  <polyline points="14,2 14,8 20,8" />
                  <path d="m8 13 2 2-2 2" />
                  <path d="m12 17 4-4-4-4" />
                </svg>
                <div>Export as Excel</div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <script src="profile.js"></script>
  </body>
</html>